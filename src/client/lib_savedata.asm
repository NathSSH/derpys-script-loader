; Listing generated by Microsoft (R) Optimizing Compiler Version 19.23.28107.0 

	TITLE	C:\Program Files (x86)\Steam\steamapps\common\Bully Scholarship Edition\_derpy_script_loader\src\client\library\lib_savedata.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	_dslopen_savedata
PUBLIC	??_C@_0BH@KDMOKCBC@save?5data?5is?5not?5ready@	; `string'
PUBLIC	??_C@_0BA@GOCEIFEK@IsSaveDataReady@		; `string'
PUBLIC	??_C@_0BB@MELAGHGE@GetSaveDataTable@		; `string'
PUBLIC	??_C@_0BE@GHEDAMBG@GetRawSaveDataTable@		; `string'
EXTRN	_lua_settop:PROC
EXTRN	_lua_pushvalue:PROC
EXTRN	_lua_type:PROC
EXTRN	_lua_pushstring:PROC
EXTRN	_lua_pushcclosure:PROC
EXTRN	_lua_pushboolean:PROC
EXTRN	_lua_rawget:PROC
EXTRN	_lua_rawgeti:PROC
EXTRN	_lua_newtable:PROC
EXTRN	_lua_settable:PROC
EXTRN	_lua_rawset:PROC
EXTRN	_luaL_checktype:PROC
EXTRN	_luaL_error:PROC
EXTRN	_getDslState:PROC
;	COMDAT ??_C@_0BE@GHEDAMBG@GetRawSaveDataTable@
CONST	SEGMENT
??_C@_0BE@GHEDAMBG@GetRawSaveDataTable@ DB 'GetRawSaveDataTable', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BB@MELAGHGE@GetSaveDataTable@
CONST	SEGMENT
??_C@_0BB@MELAGHGE@GetSaveDataTable@ DB 'GetSaveDataTable', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@GOCEIFEK@IsSaveDataReady@
CONST	SEGMENT
??_C@_0BA@GOCEIFEK@IsSaveDataReady@ DB 'IsSaveDataReady', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@KDMOKCBC@save?5data?5is?5not?5ready@
CONST	SEGMENT
??_C@_0BH@KDMOKCBC@save?5data?5is?5not?5ready@ DB 'save data is not ready'
	DB	00H						; `string'
CONST	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _dslopen_savedata
_TEXT	SEGMENT
_lua$ = 8						; size = 4
_dslopen_savedata PROC					; COMDAT
; File C:\Program Files (x86)\Steam\steamapps\common\Bully Scholarship Edition\_derpy_script_loader\src\client\library\lib_savedata.c
; Line 34
	push	esi
; Line 35
	mov	esi, DWORD PTR _lua$[esp]
	push	OFFSET ??_C@_0BA@GOCEIFEK@IsSaveDataReady@
	push	esi
	call	_lua_pushstring
	push	0
	push	OFFSET _IsSaveDataReady
	push	esi
	call	_lua_pushcclosure
	push	-10001					; ffffd8efH
	push	esi
	call	_lua_settable
; Line 36
	push	OFFSET ??_C@_0BB@MELAGHGE@GetSaveDataTable@
	push	esi
	call	_lua_pushstring
	push	0
	push	OFFSET _GetSaveDataTable
	push	esi
	call	_lua_pushcclosure
	push	-10001					; ffffd8efH
	push	esi
	call	_lua_settable
; Line 37
	push	OFFSET ??_C@_0BE@GHEDAMBG@GetRawSaveDataTable@
	push	esi
	call	_lua_pushstring
	add	esp, 64					; 00000040H
	push	0
	push	OFFSET _GetRawSaveDataTable
	push	esi
	call	_lua_pushcclosure
	push	-10001					; ffffd8efH
	push	esi
	call	_lua_settable
	add	esp, 20					; 00000014H
; Line 38
	xor	eax, eax
	pop	esi
; Line 39
	ret	0
_dslopen_savedata ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _GetRawSaveDataTable
_TEXT	SEGMENT
_lua$ = 8						; size = 4
_GetRawSaveDataTable PROC				; COMDAT
; File C:\Program Files (x86)\Steam\steamapps\common\Bully Scholarship Edition\_derpy_script_loader\src\client\library\lib_savedata.c
; Line 28
	push	esi
; Line 29
	mov	esi, DWORD PTR _lua$[esp]
	push	1
	push	esi
	call	_getDslState
	mov	eax, DWORD PTR [eax+356]
	push	eax
	push	-10000					; ffffd8f0H
	push	esi
	call	_lua_rawgeti
; Line 30
	push	-1
	push	esi
	call	_lua_type
	add	esp, 28					; 0000001cH
	cmp	eax, 5
	je	SHORT $LN4@GetRawSave
; Line 31
	push	OFFSET ??_C@_0BH@KDMOKCBC@save?5data?5is?5not?5ready@
	push	esi
	call	_luaL_error
	add	esp, 8
$LN4@GetRawSave:
; Line 33
	mov	eax, 1
	pop	esi
	ret	0
_GetRawSaveDataTable ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _GetSaveDataTable
_TEXT	SEGMENT
_lua$ = 8						; size = 4
_GetSaveDataTable PROC					; COMDAT
; File C:\Program Files (x86)\Steam\steamapps\common\Bully Scholarship Edition\_derpy_script_loader\src\client\library\lib_savedata.c
; Line 9
	push	esi
; Line 12
	mov	esi, DWORD PTR _lua$[esp]
	push	4
	push	1
	push	esi
	call	_luaL_checktype
; Line 13
	push	1
	push	esi
	call	_getDslState
; Line 14
	push	DWORD PTR [eax+356]
	push	-10000					; ffffd8f0H
	push	esi
	call	_lua_rawgeti
; Line 15
	push	-1
	push	esi
	call	_lua_type
	add	esp, 40					; 00000028H
	cmp	eax, 5
	je	SHORT $LN2@GetSaveDat
; Line 16
	push	OFFSET ??_C@_0BH@KDMOKCBC@save?5data?5is?5not?5ready@
	push	esi
	call	_luaL_error
	add	esp, 8
$LN2@GetSaveDat:
; Line 17
	push	1
	push	esi
	call	_lua_pushvalue
; Line 18
	push	-2					; fffffffeH
	push	esi
	call	_lua_rawget
; Line 19
	push	-1
	push	esi
	call	_lua_type
	add	esp, 24					; 00000018H
	cmp	eax, 5
	je	SHORT $LN5@GetSaveDat
; Line 21
	push	-2					; fffffffeH
	push	esi
	call	_lua_settop
; Line 22
	push	esi
	call	_lua_newtable
; Line 23
	push	1
	push	esi
	call	_lua_pushvalue
; Line 24
	push	-2					; fffffffeH
	push	esi
	call	_lua_pushvalue
; Line 25
	push	-4					; fffffffcH
	push	esi
	call	_lua_rawset
	add	esp, 36					; 00000024H
$LN5@GetSaveDat:
; Line 27
	mov	eax, 1
	pop	esi
	ret	0
_GetSaveDataTable ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _IsSaveDataReady
_TEXT	SEGMENT
_lua$ = 8						; size = 4
_IsSaveDataReady PROC					; COMDAT
; File C:\Program Files (x86)\Steam\steamapps\common\Bully Scholarship Edition\_derpy_script_loader\src\client\library\lib_savedata.c
; Line 6
	push	1
	push	DWORD PTR _lua$[esp]
	call	_getDslState
	xor	ecx, ecx
	cmp	DWORD PTR [eax+356], -2			; fffffffeH
	setne	cl
	push	ecx
	push	DWORD PTR _lua$[esp+8]
	call	_lua_pushboolean
	add	esp, 16					; 00000010H
; Line 7
	mov	eax, 1
; Line 8
	ret	0
_IsSaveDataReady ENDP
_TEXT	ENDS
END
