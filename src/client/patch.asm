; Listing generated by Microsoft (R) Optimizing Compiler Version 19.23.28107.0 

	TITLE	C:\Program Files (x86)\Steam\steamapps\common\Bully Scholarship Edition\_derpy_script_loader\src\client\patch.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	_nullifyInstructions
PUBLIC	_replaceImmediateValue
PUBLIC	_replaceImmediateByte
PUBLIC	_replaceCodeWithJump
PUBLIC	_replaceFunctionCall
PUBLIC	_replaceFunctionCallWithPrefix
EXTRN	__imp__VirtualProtect@16:PROC
EXTRN	_memset:PROC
; Function compile flags: /Ogtpy
;	COMDAT _replaceFunctionCallWithPrefix
_TEXT	SEGMENT
_reset$ = -4						; size = 4
_ptr$ = 8						; size = 4
_bytes$ = 12						; size = 4
_prefix$ = 16						; size = 1
_replacement$ = 20					; size = 4
_replaceFunctionCallWithPrefix PROC			; COMDAT
; File C:\Program Files (x86)\Steam\steamapps\common\Bully Scholarship Edition\_derpy_script_loader\src\client\patch.c
; Line 62
	push	ecx
	push	esi
; Line 65
	mov	esi, DWORD PTR _ptr$[esp+4]
	lea	eax, DWORD PTR _reset$[esp+8]
	push	edi
	mov	edi, DWORD PTR _bytes$[esp+8]
	push	eax
	push	4
	push	edi
	push	esi
	call	DWORD PTR __imp__VirtualProtect@16
	test	eax, eax
	je	SHORT $LN2@replaceFun
; Line 66
	mov	al, BYTE PTR _prefix$[esp+8]
	mov	BYTE PTR [esi], al
; Line 68
	mov	eax, DWORD PTR _replacement$[esp+8]
	sub	eax, esi
	mov	BYTE PTR [esi+1], 232			; 000000e8H
	sub	eax, 6
	mov	DWORD PTR [esi+2], eax
; Line 69
	cmp	edi, 6
	jbe	SHORT $LN3@replaceFun
; Line 70
	lea	eax, DWORD PTR [edi-6]
	push	eax
	lea	eax, DWORD PTR [esi+6]
	push	144					; 00000090H
	push	eax
	call	_memset
	add	esp, 12					; 0000000cH
$LN3@replaceFun:
; Line 71
	lea	eax, DWORD PTR _reset$[esp+12]
	push	eax
	push	DWORD PTR _reset$[esp+16]
	push	edi
	push	esi
	call	DWORD PTR __imp__VirtualProtect@16
	pop	edi
; Line 74
	pop	esi
	pop	ecx
	ret	0
$LN2@replaceFun:
	pop	edi
; Line 73
	xor	eax, eax
; Line 74
	pop	esi
	pop	ecx
	ret	0
_replaceFunctionCallWithPrefix ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _replaceFunctionCall
_TEXT	SEGMENT
_reset$ = -4						; size = 4
_ptr$ = 8						; size = 4
_bytes$ = 12						; size = 4
_replacement$ = 16					; size = 4
_replaceFunctionCall PROC				; COMDAT
; File C:\Program Files (x86)\Steam\steamapps\common\Bully Scholarship Edition\_derpy_script_loader\src\client\patch.c
; Line 50
	push	ecx
	push	esi
; Line 53
	mov	esi, DWORD PTR _ptr$[esp+4]
	lea	eax, DWORD PTR _reset$[esp+8]
	push	edi
	mov	edi, DWORD PTR _bytes$[esp+8]
	push	eax
	push	4
	push	edi
	push	esi
	call	DWORD PTR __imp__VirtualProtect@16
	test	eax, eax
	je	SHORT $LN2@replaceFun
; Line 55
	mov	eax, DWORD PTR _replacement$[esp+8]
	sub	eax, esi
	mov	BYTE PTR [esi], 232			; 000000e8H
	sub	eax, 5
	mov	DWORD PTR [esi+1], eax
; Line 56
	cmp	edi, 5
	jbe	SHORT $LN3@replaceFun
; Line 57
	lea	eax, DWORD PTR [edi-5]
	push	eax
	lea	eax, DWORD PTR [esi+5]
	push	144					; 00000090H
	push	eax
	call	_memset
	add	esp, 12					; 0000000cH
$LN3@replaceFun:
; Line 58
	lea	eax, DWORD PTR _reset$[esp+12]
	push	eax
	push	DWORD PTR _reset$[esp+16]
	push	edi
	push	esi
	call	DWORD PTR __imp__VirtualProtect@16
	pop	edi
; Line 61
	pop	esi
	pop	ecx
	ret	0
$LN2@replaceFun:
	pop	edi
; Line 60
	xor	eax, eax
; Line 61
	pop	esi
	pop	ecx
	ret	0
_replaceFunctionCall ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _replaceCodeWithJump
_TEXT	SEGMENT
_reset$ = -4						; size = 4
_ptr$ = 8						; size = 4
_target$ = 12						; size = 4
_replaceCodeWithJump PROC				; COMDAT
; File C:\Program Files (x86)\Steam\steamapps\common\Bully Scholarship Edition\_derpy_script_loader\src\client\patch.c
; Line 40
	push	ecx
	push	esi
; Line 43
	mov	esi, DWORD PTR _ptr$[esp+4]
	lea	eax, DWORD PTR _reset$[esp+8]
	push	eax
	push	4
	push	5
	push	esi
	call	DWORD PTR __imp__VirtualProtect@16
	test	eax, eax
	je	SHORT $LN2@replaceCod
; Line 45
	mov	eax, DWORD PTR _target$[esp+4]
	sub	eax, esi
	mov	BYTE PTR [esi], 233			; 000000e9H
	sub	eax, 5
	mov	DWORD PTR [esi+1], eax
; Line 46
	lea	eax, DWORD PTR _reset$[esp+8]
	push	eax
	push	DWORD PTR _reset$[esp+12]
	push	5
	push	esi
	call	DWORD PTR __imp__VirtualProtect@16
	pop	esi
; Line 49
	pop	ecx
	ret	0
$LN2@replaceCod:
; Line 48
	xor	eax, eax
	pop	esi
; Line 49
	pop	ecx
	ret	0
_replaceCodeWithJump ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _replaceImmediateByte
_TEXT	SEGMENT
_reset$ = -4						; size = 4
_ptr$ = 8						; size = 4
_value$ = 12						; size = 1
_replaceImmediateByte PROC				; COMDAT
; File C:\Program Files (x86)\Steam\steamapps\common\Bully Scholarship Edition\_derpy_script_loader\src\client\patch.c
; Line 31
	push	ecx
	push	esi
; Line 34
	mov	esi, DWORD PTR _ptr$[esp+4]
	lea	eax, DWORD PTR _reset$[esp+8]
	push	eax
	push	4
	push	1
	push	esi
	call	DWORD PTR __imp__VirtualProtect@16
	test	eax, eax
	je	SHORT $LN2@replaceImm
; Line 35
	mov	al, BYTE PTR _value$[esp+4]
	mov	BYTE PTR [esi], al
; Line 36
	lea	eax, DWORD PTR _reset$[esp+8]
	push	eax
	push	DWORD PTR _reset$[esp+12]
	push	1
	push	esi
	call	DWORD PTR __imp__VirtualProtect@16
	pop	esi
; Line 39
	pop	ecx
	ret	0
$LN2@replaceImm:
; Line 38
	xor	eax, eax
	pop	esi
; Line 39
	pop	ecx
	ret	0
_replaceImmediateByte ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _replaceImmediateValue
_TEXT	SEGMENT
_reset$ = -4						; size = 4
_ptr$ = 8						; size = 4
_value$ = 12						; size = 4
_replaceImmediateValue PROC				; COMDAT
; File C:\Program Files (x86)\Steam\steamapps\common\Bully Scholarship Edition\_derpy_script_loader\src\client\patch.c
; Line 22
	push	ecx
	push	esi
; Line 25
	mov	esi, DWORD PTR _ptr$[esp+4]
	lea	eax, DWORD PTR _reset$[esp+8]
	push	eax
	push	4
	push	4
	push	esi
	call	DWORD PTR __imp__VirtualProtect@16
	test	eax, eax
	je	SHORT $LN2@replaceImm
; Line 26
	mov	eax, DWORD PTR _value$[esp+4]
	mov	DWORD PTR [esi], eax
; Line 27
	lea	eax, DWORD PTR _reset$[esp+8]
	push	eax
	push	DWORD PTR _reset$[esp+12]
	push	4
	push	esi
	call	DWORD PTR __imp__VirtualProtect@16
	pop	esi
; Line 30
	pop	ecx
	ret	0
$LN2@replaceImm:
; Line 29
	xor	eax, eax
	pop	esi
; Line 30
	pop	ecx
	ret	0
_replaceImmediateValue ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _nullifyInstructions
_TEXT	SEGMENT
_reset$ = -4						; size = 4
_ptr$ = 8						; size = 4
_bytes$ = 12						; size = 4
_nullifyInstructions PROC				; COMDAT
; File C:\Program Files (x86)\Steam\steamapps\common\Bully Scholarship Edition\_derpy_script_loader\src\client\patch.c
; Line 13
	push	ecx
	push	esi
; Line 16
	mov	esi, DWORD PTR _bytes$[esp+4]
	lea	eax, DWORD PTR _reset$[esp+8]
	push	edi
	mov	edi, DWORD PTR _ptr$[esp+8]
	push	eax
	push	4
	push	esi
	push	edi
	call	DWORD PTR __imp__VirtualProtect@16
	test	eax, eax
	je	SHORT $LN2@nullifyIns
; Line 17
	push	esi
	push	144					; 00000090H
	push	edi
	call	_memset
	add	esp, 12					; 0000000cH
; Line 18
	lea	eax, DWORD PTR _reset$[esp+12]
	push	eax
	push	DWORD PTR _reset$[esp+16]
	push	esi
	push	edi
	call	DWORD PTR __imp__VirtualProtect@16
	pop	edi
; Line 21
	pop	esi
	pop	ecx
	ret	0
$LN2@nullifyIns:
	pop	edi
; Line 20
	xor	eax, eax
; Line 21
	pop	esi
	pop	ecx
	ret	0
_nullifyInstructions ENDP
_TEXT	ENDS
END
